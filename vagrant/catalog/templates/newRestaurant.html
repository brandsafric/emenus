{% extends "main.html" %}
{% block content %}
{% include "header.html" %}
<div class="form-wrapper">
   <!-- colored -->

    <div class="ih-item circle colored effect5 form_image">
        <a data-toggle="modal" data-target="#exampleModal">
            <div class="img"><img id="rest_img" src="{{ url_for('static', filename='img/not-available-abbreviation-inside-a-circle_318-33662.jpg') }}" alt="img"></div>
            <div class="info">
              <div class="info-back info-bg">
                <h3>Change Picture</h3>
                <p>View your image gallery</p>
              </div>
            </div>
        </a>
    </div>
    <!-- end colored -->
    <div class="form-heading form-heading-nr">
        <h1>New Restaurant</h1>
    </div>
    <form id="newRestForm" action="{{ url_for('create_restaurant') }}" method="post" enctype="multipart/form-data">
        <label>Name <span class="required">*</span></label>
        <div>
            <input type="text" size="80" name="name" placeholder="Name" required>
        </div>
        <div>
            <input id="target" type="text" name="picture" value="not-available-abbreviation-inside-a-circle_318-33662.jpg">
        </div>
        <input class="btn btn-primary" type="submit" value="Create">
        <a class="cancel btn btn-secondary" href="{{ url_for('show_restaurants') }}">Cancel</a>
    </form>
</div>


<!-- Modal -->
<div class="modal fade " id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog " role="document">
        <div class="modal-content gallery">
            <form id="imageForm" action="{{ url_for('delete_image') }}" method="post" enctype="multipart/form-data">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Image Gallery</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <span>Choose an Image</span>
                    <span class="warning">(Max 5 images)</span>
                    <ul class="img_gallery">
                        <li class="img_thumbnail selected">
                            <img id="img_thumbnail_0" class="img_tn" data-imgpath="not-available-abbreviation-inside-a-circle_318-33662.jpg" src="{{ url_for('static', filename='img/not-available-abbreviation-inside-a-circle_318-33662.jpg') }}" alt="img">
                        </li>
                        {% for k,v,z in user_pics %}
                            <li class="img_thumbnail" id="img_thumbnail_{{ loop.index }}">
                                <img id="img_thumbnail__{{ loop.index }}" class="img_tn" data-usrpath = "{{ k }}" data-filename = "{{ v }}" data-imgpath="{{ z }}" src="{{ url_for('static', filename='img/' + k) }}" alt="img">
                            </li>
                        {% endfor %}
                    </ul>
                <div class="image_container">
{#                 <div class="icons_delete">#}
{#                     <i id="i_delete_0" class="fa fa-times-circle i_delete" aria-hidden="true"></i>#}
{#                 </div>#}
                 {% for k in user_pics %}
                     <div class="icons_delete" id="icons_delete_{{ loop.index }}">
                         <i id="i_delete_{{ loop.index }}" data-index="{{ loop.index - 1 }}" data-tn="img_thumbnail_{{ loop.index }}" data-parent="icons_delete_{{ loop.index }}" class="fa fa-times-circle i_delete" aria-hidden="true"></i>
                     </div>
                 {% endfor %}
                </div>
                <div class="file_container"><input type="file" id="upload" name="image"></div>
                <div class="upload_container"><button class="btn btn-default btn-file ">Upload a file</button></div>
                <div class="no_upload">Please remove a picture to free up space.</div>
                <input id="delete_image" type="text" name="filename" value="">
            </form>
        </div>
            <div class="modal-footer gallery">
                <button id="btn-set" type="button" class="btn btn-primary btn-set" data-dismiss="modal">Set</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
    </div>
</div>

{% endblock %}